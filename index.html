<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>便捷下载 - 方便快捷的跳转至应用下载</title>
    <script src="https://cdn.bootcss.com/vConsole/3.3.0/vconsole.min.js"></script>
</head>

<body>
    <script type="text/javascript">
        // init vConsole
        var vConsole = new VConsole();
        console.log('vConsole init');
        
        function verifyBrand() {
            const userAgent = navigator.userAgent.toLowerCase()
            console.log(userAgent);
            const isIphone = userAgent.match(/(iphone|ipad|ipod)/i);
            const isAndroid = userAgent.match(/(android|linux)/i)
            const isHuawei = userAgent.match(/huawei/i);
            const isHonor = userAgent.match(/honor/i);
            const isHarmonOS = userAgent.match(/harmonyos/i);
            const isOppo = userAgent.match(/oppo/i);
            const isOppoR15 = userAgent.match(/PACM00/i);
            const isVivo = userAgent.match(/vivo/i);
            const isXiaomi = userAgent.match(/mi\s/i);
            const isXIAOMI = userAgent.match(/xiaomi/i);
            const isXiaomi2s = userAgent.match(/mix\s/i);
            const isRedmi = userAgent.match(/redmi/i);

            if (isIphone) {
                return 'iphone'
            } else if (isAndroid) {
                if (isHuawei || isHonor || isHarmonOS) {
                    return 'huawei'
                }
                return 'android'
            } else {
                return 'other'
            }
        }

        // 根据不同的终端，跳转到不同的地址
        // iOS url
        const iOSUrl = 'https://apps.apple.com/cn/app/%E5%BE%AE%E4%BF%A1/id414478124';
        // android url
        const androidUrl = 'https://play.google.com/store/apps/details?id=com.tencent.mm';
        // huawei url
        const huaweiUrl = 'https://url.cloud.huawei.com/ouXBichoRi';
        switch (this.verifyBrand()) {
            case 'iphone':
                location.href = iOSUrl;
                console.log('iphone')
                break;
            case 'android':
                location.href = androidUrl;
                console.log('android')
                break;
            case 'huawei':
                location.href = huaweiUrl;
                console.log('huawei')
                break;
            default:
                location.href = androidUrl;
                console.log('other')
                break;
        }
    </script>
</body>

</html>
